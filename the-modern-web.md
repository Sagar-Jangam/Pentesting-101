# The Modern Web

#### Client-Server Architecture 

The architecture developed by Alice had a server and a client, this simply is called client-server architecture. The server was responsible for handling the client's request, processing it \( making decisions & fetching data\), and serving a response. And the client was responsible for sending a request, handling the response, and presenting the received data in a human-readable format. 

Today there are more than one client-server architecture, each architecture performs the basic functions performed by Alice's architecture, however on the basis of segregation of these functions we have classified the architectures. Let's first discuss these functions. 

The **presentation** tier is where the user interacts with the application, consider it the code visible on the browser. 

The **middle** tier \(business logic\) is what the presentation layer and the data layer use to communicate with each other, it contains the code to process client's requests and if needed query the data layer. 

The **data** layer is where the data is stored, it may additionally store the data processing code.

**Monolithic/ Single-Process** applications such as desktop applications, services, etc, usually do not involve communication over a network, as the entire application \(the presentation layer and the data layer\) is self-contained. It may communicate with other apps and services on the system but the core of the application is a single unit.

**Two-tier application**, the original Client-Server applications commonly referred as a **two-tier application**, as these applications involve two components, a presentation layer and a data layer \(excluding the communication channel\). The business logic usually resides in the data layer, however, it may as well reside in the presentation layer or both layers.

**N-tier application**, an N-tier application has a presentation layer, middle layer, and a data layer, simply put the data logic \(database/ data processing\) is separated from the business layer, traditionally both are included in the same \(server in client-server\) layer.

Communication channel, though not termed in the architecture name, is an important part of the architecture as it is of any other network. 

![N-tier architecture](https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/images/n-tier-logical.svg)

The above figure depicts an example web application architecture involving all three tiers and some additional components. A pentester should at least know the functionality of some of these component \(the figure is not an exhuastive one, thus we would go beyond the figure\).

Let's go back to the narrative to understand these components

**Cache**: With each new paper published, it took Alex more time to write the next one, thus he did not update his website for months. And the content posted on the website remained same for long streches of time. However, his work became more popular and people from different universities \(located in different regions of thw world\) started following Alex and accessed his content on the website. 

Each time Bob or someone else wanted to read his paper they had to load the entire website again which was resource consuming. To overcome this Alex implemented Caching, which would store a copy of requested data on the Bob's end. Caching can be implemented anywhere between the client and the server, however, Alex explicitly implemented caching of the website at the browser. 

**Caching** is storing a copy of requested resources and serving it when requested again. In this case, the cache stored a copy of requested papers and served them back to Bob when requested. 

The Cache \(in case of web, HTTP Cache\) will store a copy when a resource is requested the first time, and keeps a copy for a decided period of time, prior which the request is made again to the server and new copy is served  and the cache. Web Cache use the HTTP Headers for additional features such as the validity time of the stored data, private/ public storage of data, etc. 

**Cache-Control Header**

A Cache can site anywhere between a cilent and a server. Depending upon the need and placement a cache can be of private and public nature.  



